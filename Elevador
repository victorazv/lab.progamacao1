#include<stdio.h>
#include<stdlib.h>
#define TAM 5
//Simular elevador
//Vetor > Cada indice é um andar
//Se o elevador está
int eleA[TAM], eleB[TAM], t, andarA, andarB, sA, sB;;
//Para não dar erro. 
//TAM = TAM - 1;

int iniciaElevador(){
    int i;
    for(i=0; i<TAM; i++){
        eleA[i] = 0;
        eleB[i] = 0;
    }
    eleA[0] = 1;
    eleB[0] = 1;
    andarA = 0;
    andarB = 0;
    sA = 0;//0=parado, 1=subindo, 2=descendo
    sB = 0;
}

int mudaAndar(){
	int desejado, cA, cB;
	printf("\nDigite o andar desejado:");
	scanf("%d", &desejado);
    if((desejado >= 0 ) && (desejado<=TAM)){
		if((eleA[desejado] == 1) || (eleB[desejado] == 1)){
            printf("\nO elevador ja esta no andar desejado");
        }
        else{
			//verifica qual elevador esta mais perto do destino
			cA = andarA - desejado;
			cB = andarB - desejado;
			if(cA > cB){
				andarA = 0;
				eleA[desejado] = 1;
            	andarA = desejado;
			}
			else{
				andarB = 0;
				eleB[desejado] = 1;
            	andarB = desejado;
			/*if(sA==0 && sB==0){
				andarA = 0;
				eleA[desejado] = 1;
            	andarA = desejado;
				if(desejado==0 || desejado==5){
					sA=0;
					sB=0;
				}
			}*/
        	}
    	}
	}
else{
        printf("\nO andar desejado nao existe");
    }
int main(){
	int i;
    iniciaElevador();
 	
 	printf("Elevador de 5 andares. Para ir ao térreo, digite 0.\n");
 	printf("----------");
 	for(i=0; i<5; i++){
	 	printf("|         |\n");
	 	printf("| Andar %d |\n", i);
	 	printf("----------");
		printf("|         |\n");
 	}
 	printf("----------");
    while(1 == 1){
        mudaAndar();
    }
	return 0;	
}
